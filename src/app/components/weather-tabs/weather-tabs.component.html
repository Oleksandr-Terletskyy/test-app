<div *ngIf="showTitle && currentWeather" class="weather-title">
  <h2>
    {{ currentWeather.name }}
    <button
      mat-icon-button
      color="warn"
      (click)="onRemoveCity()"
      matTooltip="Remove from favorites"
    >
      <mat-icon>delete</mat-icon>
    </button>
  </h2>
</div>

<mat-tab-group dynamicHeight>
  <mat-tab label="Current Weather">
    <div class="tab-content mat-elevation-z4">
      <ng-container *ngIf="currentWeather; else noCurrent">
        <div class="current-weather-card">
          <div class="current-weather-header">
            <h2>{{ currentWeather.name }}, {{ currentWeather.country }}</h2>
            <img
              [src]="
                'http://openweathermap.org/img/wn/' +
                currentWeather.icon +
                '@2x.png'
              "
              alt="weather icon"
            />
          </div>
          <div class="current-weather-body">
            <p><strong>Temperature:</strong> {{ currentWeather.temp }} °C</p>
            <p><strong>Humidity:</strong> {{ currentWeather.humidity }} %</p>
            <p><strong>Weather:</strong> {{ currentWeather.description }}</p>
          </div>
        </div>
      </ng-container>
      <ng-template #noCurrent>
        <p class="no-data">No data</p>
      </ng-template>
    </div>
  </mat-tab>

  <mat-tab label="5-Day Forecast">
    <div class="tab-content mat-elevation-z4">
      <ng-container *ngIf="dailyForecast.length; else noForecast">
        <div class="forecast-wrapper">
          <div class="forecast-card" *ngFor="let day of dailyForecast">
            <p class="forecast-date">{{ day.date | date : "EEE, MMM d" }}</p>
            <img
              [src]="'http://openweathermap.org/img/wn/' + day.icon + '@2x.png'"
              alt="weather icon"
            />
            <p>Min: {{ day.temp_min }} °C | Max: {{ day.temp_max }} °C</p>
            <p>{{ day.description }}</p>
          </div>
        </div>
      </ng-container>
      <ng-template #noForecast>
        <p class="no-data">No data</p>
      </ng-template>
    </div>
  </mat-tab>
</mat-tab-group>

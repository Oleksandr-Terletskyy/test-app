@if (showTitle() && currentWeather(); as weather) {
<div class="weather-title">
  <h2>
    {{ weather.name }}
    <button
      mat-icon-button
      color="warn"
      (click)="onRemoveCity()"
      matTooltip="Remove from favorites"
    >
      <mat-icon>delete</mat-icon>
    </button>
  </h2>
</div>
}

<mat-tab-group dynamicHeight>
  <mat-tab label="Current Weather">
    <div class="tab-content mat-elevation-z4">
      @if (currentWeather(); as weather) {
      <div class="current-weather-card">
        <div class="current-weather-header">
          <h2>{{ weather.name }}, {{ weather.country }}</h2>
          <img
            [src]="
              'http://openweathermap.org/img/wn/' + weather.icon + '@2x.png'
            "
            alt="weather icon"
          />
        </div>
        <div class="current-weather-body">
          <p><strong>Temperature:</strong> {{ weather.temp }} °C</p>
          <p><strong>Humidity:</strong> {{ weather.humidity }} %</p>
          <p><strong>Weather:</strong> {{ weather.description }}</p>
        </div>
      </div>
      } @else {
      <p class="no-data">No data</p>
      }
    </div>
  </mat-tab>

  <mat-tab label="5-Day Forecast">
    <div class="tab-content mat-elevation-z4">
      @if (dailyForecast().length) {
      <div class="forecast-wrapper">
        @for (day of dailyForecast(); track day.date) {
        <div class="forecast-card">
          <p class="forecast-date">{{ day.date | date : "EEE, MMM d" }}</p>
          <img
            [src]="'http://openweathermap.org/img/wn/' + day.icon + '@2x.png'"
            alt="weather icon"
          />
          <p>Min: {{ day.temp_min }} °C | Max: {{ day.temp_max }} °C</p>
          <p>{{ day.description }}</p>
        </div>
        }
      </div>
      } @else {
      <p class="no-data">No data</p>
      }
    </div>
  </mat-tab>
</mat-tab-group>
